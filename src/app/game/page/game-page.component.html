<div class="game-menu-wrapper">
  <div class="game-stats">
    <div class="health">
      <img src="../../../assets/images/heart-icon.png" />
      <span>{{ levelHealthSubject$?.value }}</span>
    </div>
    <div class="gold">
      <img src="../../../assets/images/gold-icon.png" />
      <span>{{ levelGoldSubject$?.value }}</span>
    </div>
    <div class="waves">
      <img src="../../../assets/images/wave-icon.png" />
      <span>{{ currentWaveSubject$?.value }} / {{ lastWaveSubject$?.value }}</span>
    </div>
  </div>
  <div class="game-portals">

    <div class="game-portal"
        [class.enabled]="portalPurchasable(PortalPrice.FIRE)"
        [class.active]="(activePortalElement$ | async ) == PortalElement.FIRE"
        (click)="onActivatePortal(PortalElement.FIRE, PortalPrice.FIRE)">
      <div class="game-portal-option game-portal-fire"></div>
      <p>{{ PortalPrice.FIRE }}</p>
    </div>

    <div class="game-portal"
        [class.enabled]="portalPurchasable(PortalPrice.ICE)"
        [class.active]="(activePortalElement$ | async ) == PortalElement.ICE"
        (click)="onActivatePortal(PortalElement.ICE, PortalPrice.ICE)">
      <div class="game-portal-option game-portal-ice"></div>
      <p>{{ PortalPrice.ICE }}</p>
    </div>

    <div class="game-portal"
        [class.enabled]="portalPurchasable(PortalPrice.ARCANE)"
        [class.active]="(activePortalElement$ | async ) == PortalElement.ARCANE"
        (click)="onActivatePortal(PortalElement.ARCANE, PortalPrice.ARCANE)">
      <div class="game-portal-option game-portal-arcane"></div>
      <p>{{ PortalPrice.ARCANE }}</p>
    </div>

  </div>
  <div class="game-actions">
    <button mat-fab color="accent" *ngIf="fastForwardState$ | async" (click)="toggleFastForward(false)">
      <mat-icon>fast_forward</mat-icon>
    </button>

    <button mat-fab color="accent" *ngIf="!(fastForwardState$ | async)" (click)="toggleFastForward(true)">
      <mat-icon>play_arrow</mat-icon>
    </button>

    <button mat-fab color="accent" [routerLink]="['/home']">
      <mat-icon>exit_to_app</mat-icon>
    </button>

    <button mat-fab color="warn" (click)="onDeactivatePortal()" *ngIf="(activePortalElement$|async) !== null">
      <mat-icon>clear</mat-icon>
    </button>
  </div>
</div>

<div class="game-wrapper">
  <div id="portals-td-container"></div>
</div>
